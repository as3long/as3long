define("#widget/1.0.0/templatable",["$","#handlebars/1.0.0/handlebars"],function(e,t,n){function s(e){return r(u(e))}function o(e,t){var n=e.find(t);if(n.length===0)throw new Error("Invalid template selector: "+t);return a(n.html())}function u(e){return e.replace(/({[^}]+}})/g,"<!--$1-->").replace(/\s(src|href)\s*=\s*(['"])(.*?\{.+?)\2/g," data-TEMPLATABLE-$1=$2$3$2")}function a(e){return e.replace(/(?:<|&lt;)!--({{[^}]+}})--(?:>|&gt;)/g,"$1").replace(/data-TEMPLATABLE-/g,"")}var r=e("$"),i=e("#handlebars/1.0.0/handlebars");n.exports={templateHelpers:null,templateObject:null,parseElementFromTemplate:function(){this.templateObject=s(this.template),this.element=r(this.compile())},compile:function(e,t){e||(e=this.template),t||(t=this.model),t.toJSON&&(t=t.toJSON());var n=this.templateHelpers;if(n)for(var r in n)n.hasOwnProperty(r)&&i.registerHelper(r,n[r]);var s=i.compile(e)(t);if(n)for(r in n)n.hasOwnProperty(r)&&delete i.helpers[r];return s},renderPartial:function(e){var t=o(this.templateObject,e);return this.$(e).html(this.compile(t)),this}}});